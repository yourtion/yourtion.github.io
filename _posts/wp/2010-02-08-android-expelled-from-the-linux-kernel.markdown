---
author: Yourtion
comments: true
date: 2010-02-08 00:00:43+00:00
excerpt: Linux Kernel把Android代码移除，这其中到底发生了什么？我们又能从中看到什么东西。对于开源，作为国人，我了解不多，也理解不多，借助这次事件，我查找了开源的相关资料，让大家更加了解开源，同时说说自己对开源的看法。
layout: post
slug: android-expelled-from-the-linux-kernel
title: 从Linux Kernel驱逐Android看国外的开源文化
wordpress_id: 508
categories:
- 事件看法
tags:
- Android
- Linux Kerne
- 开源
---
{% include JB/setup %}

Linux Kernel把Android代码移除，这其中到底发生了什么？我们又能从中看到什么东西。对于开源，作为国人，我了解不多，也理解不多，借助这次事件，我查找了开源的相关资料，让大家更加了解开源，同时说说自己对开源的看法。

译文来自：[http://developer.51cto.com/art/201002/183686.htm](http://developer.51cto.com/art/201002/183686.htm) 李莘 译  ifanr.com

本文是Linux Kernel维护者Greg Kroah-Hartman在作出决定当天发布的声明，从Linux维护者的角度表示了不得不做出此决定的原因和惋惜，并希望Google做出改变。

2.6.33 版内核移除了Android的代码。很多人不断地问我发生了什么，对于Android下一步要怎么办。这里是我对整件事情的澄清：

首先，我很喜欢Android平台。直到上周，我还每天使用我的开发手机G1。它工作良好，作为用户我很满意。另外，从技术角度我也很喜欢他。令人惊奇的是，Google仅仅使用Linux内核构建了一个可移植的和健壮的手机平台，而并没有使用"传统"Linux的任何其他东西。更加难能可贵的是，你可以 在Android系统之上安装一个"真正"的Linux镜像，两者都能正常工作而无需任何修改。

Android 也解决了手机制造商多年来遇到的问题：它创造了一个免费的Java虚拟机和统一的应用软件层，使程序可以在所有集成它的手机平台上运行。因为他它的出现， 所有现存的"Linux手机协会"（"Linux Phone Consortium" ）组织都宣告终结，或者即将关闭。

**出了什么问题？**

发生了什么致使Android内核代码被删除？ 简单的说，没有人关心代码，所以他被删除了。正如我之前的声明，开发分支的代码需要继续修改才能合并进内核主线内核树，否则将被删除。但是，这儿还有更严重的问题。Android代码不仅仅是drivers/staging/android目录下的一些驱动程序。 Android系统的正常运行，需要Google创建的一种新的内核锁和其安全模型锁依赖的核心系统中的钩子（hooks）。要写出能够在Android上执行的驱动程序，你需要恰当的使用新的内核锁，有时候还需要使用怪异的安全模型。

这意味着所有为Android硬件平台编写的驱动都不能融合进主线内核树，它们在主线内核中会编译失败。因为它们依赖的代码只存在于Google的内核分支中。因为上面这些，Google阻碍了大量硬件驱动、平台代码和主线内核树的整合。并创建了一个很多制造商现在依赖的内核分支。（译者评论：邪恶的做法，利用开源的成果谋利，而并没有回馈开源社区）

创造内核源代码分支并没有问题，几乎每一个发行版都有自己的分支。但是更糟的是，Google不把他们的代码整合进主线内核树，使编写驱动和平台代码的公司无法回馈开源社区。内核开发社区早在几年前就告诉这些公司使他们的代码合并进主线内核，以得到自动的安全修复和自动处理API变动，很多公司听从建议，内核的每次发布都包含大量这些公司贡献的代码。

但是现在他们被卡主了，Android相关平台代码和驱动不能被整合进上游系统，这迫使这些公司维护和开发周期的大幅延长。

**具体要怎么做？**

我真的不知道。Google没有表现出要使他们的代码向上游整合的任何迹象。一些公司想要修改Android相关接口使其向上游整合，但是这需要大得多的努力，这并不是必须的。

**希望**

我还抱有希望，希望Google能花时间修改他们的代码库，使其融合进上游代码，停止他们对大量嵌入式Linux硬件公司造成的巨大阻碍。

过去，我私下里提议帮助完成这个工作，现在我再次公开表态，但是我需要Google开发人员的帮助。没有他们，什么都改变不了。好消息是所有对内核/用户空 间API的修改对于Android堆栈上层所有的代码（例如应用程序）都没有任何影响，所以这些工作可以在不对全局造成影响的情况下完成。

我会在"2010Linux消费电子论坛"（CE Linux Forum 2010 conference.）上再次讨论这个问题。希望他们在会议之前改进这个问题，否则论坛将遵循长久以来的传统，由演讲者对与会者们大声控诉他们正在做的坏事。

事实上看完之后我太理解Google创建新的内核锁和其安全模型锁使为Android硬件平台编写的驱动都不能融合进主线内核树，它们依赖的代码只存在于Google的内核分支中。这样为什么会导致编写驱动和平台代码的公司无法回馈开源社区。即使他们无法回馈开源社区，他们的行为也是为Linux的分支Android作出贡献，那会有什么问题呢？？

查了一下关于开源的思想和原则，我从总结成以下几点（参考：[Moblin非官方教程](http://topic.csdn.net/u/20090520/10/837e80ff-f5ca-4876-bcf6-3ace142612d5.html)）：

首先，开源并非免费，通过开源软件同样能创造商业价值。与传统软件不同的是，开源软件的价值在于服务中，而不是软件使用权的出售。

其次，开发者将自己的程序源代码提交给社区，如果这段代码有其利用价值则会被采纳，成为该项目的一部分。项目的所有代码都可被自由使用，其中包括使用这些代码为最终用户服务获取商业利润。

再次，参与者只有在付出劳动后才能获得回报，这是开源项目的游戏规则和内在规律。假如你将一个开源项目开发成一个成熟的发行版并投入商业使用。那么你一定会希望这个开源项目能长久的发展下去，这样你才能获得更多的回报。那么这时候你就不能单纯从中索取，却不将用户反馈提供给社区。如果你为解决某一问题付出辛勤劳动，但是你又不愿意将解决问题所产生的源代码提供给社区，在将来这个项目可能会越发偏离你所解决的问题，造成你需要付出更多劳动才能解决。

最后，开源项目的服务，主要服务是定制、维护和技术支持。虽然这些服务的价格并没有销售商业软件那么高，但是由于很多代码是复用的，开源项目的开发成本会非常低，因此整个项目的利润不会低于商业软件。

里面还讲了《金刚经》里面的一个故事，记录的是一段佛与弟子间的对话，佛问如果用很多钱财去施舍，回报会很多吗。弟子答，一定非常多。佛说，他的回报并没有传递真知更多。佛教的核心思想正是传递真知，因此繁荣了数千年之久。寺庙中的经书由信众捐印，任何人都可以自由索取，于是更多人皈依佛教。这种模式与开源思想有类似之处，项目参与的人越多，为此付出的越多，回报也就越大。虽然我们不能认定每个参与开源项目的人都是心灵纯洁的正人君子，但内在规律会决定一切。

所以作为Linux来说，如果Goolge创建新的内核锁和其安全模型锁导致使用者或者开发公司无法将其开发的驱动回馈给开源公司，而是要依赖于Google的内核分支，那么更多的Linux产品无法使用这些驱动，最终导致要将这些Linux运用于相应的硬件时要重新开发驱动。就像一开始运行WindowsMobile的S1或者Hero虽然可以安装运行开源的Android，但是很多硬件都没办法使用，如扬声器、听筒等等。这就是Windows不开源导致的。如果Google也是采用这样的策略来保护它的Android，那就难怪Linux Kernel把Android代码移除。这也算是内在规律起作用吧。

总而言之，开源是对智慧成果共享、自由的追求。这样一个开源项目才会做好做大。像FireFox、WordPress········

以上是我个人的小小看法，有什么不对还请指正。有什么看法也可以一起讨论。
