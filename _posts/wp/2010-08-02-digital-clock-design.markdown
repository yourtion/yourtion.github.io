---
author: admin
comments: true
date: 2010-08-02 04:49:00+00:00
excerpt: 数字钟已成为人们日常生活中必不可少的必需品，在这里我将已学过的比较零散的数字电路的知识有机的、系统的联系起来用于实际，来培养我的综合分析和设计电路的能力。
layout: post
slug: digital-clock-design
title: 数字钟的设计
wordpress_id: 1364
categories:
- 杂杂的
---
{% include JB/setup %}

数字钟已成为人们日常生活中必不可少的必需品，广泛用于个人家庭以及车站、码头、剧场、办公室等公共场所，给人们的生活、学习、工作、娱乐带来极大的方便。由于数字集成电路技术的迅速发展及其采用了先进的石英技术，使数字钟具有走时准确、性能稳定、携带方便等优点，它还用于计时、自动报时及自动控制等各个领域。尽管目前市场上已有现成的数字钟集成电路芯片出售，价格便宜、使用也方便，但鉴于数字钟电路的基本组成包含了数字电路的主要组成部分，因此进行数字钟的设计是必要的。在这里我将已学过的比较零散的数字电路的知识有机的、系统的联系起来用于实际，来培养我的综合分析和设计电路的能力。

本次设计以数字电子为主，实现对时、分、秒、星期数字显示的计时装置,周期为24小时，显示满刻度为23时59分59秒，并具有校时功能和报时功能的数字电子钟。电路主要采用中规模CMOS集成电路.本系统的设计电路由脉冲逻辑电路模块、时钟脉冲模块、电源模块、时钟译码显示电路模块、整点报时模块、校时模块、星期模块等几部分组成。

采用电池作电源，采用低功耗的CMOS芯片及液晶显示器，发生器使用晶体振荡、计数振荡器CD4060及双JK触发器CD4027，将标准秒信号送入“秒计数器”；计数器采用“可予制四位二进制异步清除”计数器来实现，分别组成两个六十进制(秒、分)、一个二十四进制(时)的计数器；整电报时电路以门电路、触发器及扬声器构成，要求在离整点差5秒时，每1秒钟鸣叫一次，共响5次，前四次为低音512Hz，最后一声为高音1024Hz；星期计数器是用四个D触发器组成；校时电路是由与非门构成的双稳态触发器，用来对“星期”、“时”、“分”、“秒”显示数字进行调整的；译码显示电路选用BCD-7段锁存译码／驱动器CC4511构成，再经过六位LED七段显示器显示出来。

由于本人能力有限，在设计中难免会出现错误与不足，希望各位老师能指出帮助我进

多功能数字电子钟的设计

### 一、 概述

数字钟已成为人们日常生活中必不可少的必需品，广泛用于个人家庭以及办公室等公共场所，给人们的生活、学习、工作、娱乐带来极大的方便。由于数字集成电路技术的发展和采用了先进的石英技术，使数字钟具有走时准确、性能稳定、携带方便等优点，它还用于计时、自动报时及自动控制等各个领域。尽管目前市场上已有现成的数字钟集成电路芯片出售，价格便宜、使用也方便，但鉴于数字钟电路的基本组成包含了数字电路的主要组成部分，因此进行数字钟的设计是必要的。在这里我们将已学过的比较零散的数字电路的知识有机的、系统的联系起来用于实际，来培养我们的综合分析和设计电路的能力。

本次设计以数字电子为主，实现对时、分、秒、星期数字显示的计时装置,周期为24小时，显示满刻度为23时59分59秒，并具有校时功能和报时功能的数字电子钟。电路主要采用中规模CMOS集成电路.本系统的设计电路由脉冲逻辑电路模块、时钟脉冲模块、电源模块、时钟译码显示电路模块、整点报时模块、校时模块、星期模块等几部分组成。采用电池作电源，采用低功耗的CMOS芯片及液晶显示器，发生器使用晶体振荡、计数振荡器CD4060及双JK触发器CD4027，将标准秒信号送入“秒计数器”；计数器采用“可予制四位二进制异步清除”计数器来实现，分别组成两个六十进制(秒、分)、一个二十四进制(时)的计数器；整电报时电路以门电路、触发器及扬声器构成，要求在离整点差5秒时，每1秒钟鸣叫一次，共响5次，前四次为低音512Hz，最后一声为高音1024Hz；星期计数器是用四个D触发器组成；校时电路是由与非门构成的双稳态触发器，用来对“星期”、“时”、“分”、“秒”显示数字进行调整的；译码显示电路选用BCD-7段锁存译码／驱动器CC4511构成，再经过六位LED七段显示器显示出来。如图1所示多功能数字钟的组成框图：

[![image]({{ IMAGE_PATH }}2010/08/image1.png)]({{ IMAGE_PATH }}2010/08/image1.png)

图1数字钟的组成框图

### 二 、秒脉冲发生器

#### 晶体振荡器

a：晶体振器构成

晶体振荡器电路给数字钟提供一个频率稳定准确的32768Ｈz的方波信号，可保证数字钟的走时准确及稳定。不管是指针式的电子钟还是数字显示的电子钟都使用了晶体振荡器电路。如图2所示晶体振荡电路框图：

[![image]({{ IMAGE_PATH }}2010/08/image2.png)]({{ IMAGE_PATH }}2010/08/image2.png)

图2晶体振荡电路框图

b：晶体振荡器电路原理

在电路中，非门U1与晶体、电容和电阻构成晶体振荡器电路，U2实现整形功能，将振荡器输出的近似于正弦波的波形转换为较理想的方波。输出反馈电阻R1为非门提供偏置，使电路工作于放大区域，即非门的功能近似于一个高增益的反相放大器。电容C1、C2与晶体构成一个谐振型网络，完成对振荡频率的控制功能，同时提供了一个180度相移，从而和非门构成一个正反馈网络，实现了振荡器的功能。由于晶体具有较高的频率稳定性及准确性，从而保证了输出频率的稳定和准确。晶体XTAL1的频率选为32768Hz。其中C1的值取5~20 pF，C2为30pF。C1作为校正电容可以对温度进行补偿，以提高频率准确度和稳定度。由于电路的输入阻抗极高，因此反馈电阻R1可选为10MΩ。较高的反馈电阻有利于提高振荡频率的稳定性。

2.分频器电路

分频器电路将32768Ｈz的高频方波信号经32768（  ）次分频后得到1Hz的方波信号供秒计数器进行计数。分频器实际上也就是计数器，为此电路输送一秒脉冲。

3.秒脉冲发生器

CD4060的10、11脚之间并接石英晶体和反馈电阻与其内部的反相器组成一个石英晶体振荡器。电路产生的32768Hz的信号经过内部十四级分频后由3脚（Q14其分频系数为16384）输出脉冲频率为2Hz，再通过一个二分频器分频就得到了1Hz的时钟信号，也就是1S；CD4027为双JK触发器，其内部含有两个独立的JK触发器，其中16脚6脚（2J）5脚（2K）接电源，4脚（R2）7脚（S2）接地，3脚（CP2）输入2Hz脉冲信号，分频后的1Hz脉冲由1脚（Q2）输出。
[![image]({{ IMAGE_PATH }}2010/08/image_thumb3.png)]({{ IMAGE_PATH }}2010/08/image3.png)

### 三 、计数器

有了时间标准“秒”信号后，就可以根据60秒为1分、60分为1小时、24小时为1天的计数周期，分别组成两个六十进制(秒、分)、一个二十四进制(时)的计数器。将这些计数器适当连接，就可以构成秒、分、时的计数，实现计时功能。

1．74LS161构成秒、分的六十进制计数器

数字钟的“秒”、“分”信号产生电路都是由六十进制计数器构成，“时”信号产生电路为二十四进制计数器。它们都可以用两个“可予制四位二进制异步清除”计数器来实现。利用74LS161芯片的预置数功能，也可以构成不同进制的计数器。因为一片74LS161内含有一个四位二进制异步清除计数器，因此需用两片74LS161就可以构成六十进制计数器了。集成电路74LS161芯片的电路其中（如图3）CP为时钟脉冲输入端，D0、D1、D2、D3为预置数输入端，  为置数控制端，  为异步复位端，二者均为低电平有效；Q0、Q1、Q2、Q3为计数器的输出端。

![image]({{ IMAGE_PATH }}2010/08/image4.png)

图3  74LS161管脚排列图

a：计数功能：
当 = =CTP=CTT=1，CP=CP↑时，实现计数功能。

b：同步并行置数功能：
当 =1时，预置控制端 =0，并且 CP=CP↑时，Q3Q2Q1Q0= D3D2D1D0，实现同步预置数功能。

c：保持功能：
当 = =1且CTP•CTT=0时，输出Q3Q2Q1Q0保持不变。

d：异步清零功能：
当复位端 =0时，输出Q3Q2Q1Q0全为零，实现异步清零功能（又称复位功能）。

秒个位计数器

47LS161被接成十进制计数器，其置数输入端A、B、C、D（3脚4脚5脚6脚）接低电平，LD、EP、ET（9脚10脚7脚）接高电平，秒脉冲由CP（2脚）端输入。计数器的输出端QA、QB、QC、QD（14脚13脚12脚11脚）接译码电路CD4511的输入端D、C、B、A。当秒脉冲输入时，电路状态按二进制自然序列依次递增1，QA、QB、QC、QD输出为0000、0001、0010、0011、0100、0101、0110、0111、1000、1001，当输出为1010也就是10时，QA、QC输出都为1，经过一个与非门后一路经反相后送入或非门的一个输入端，输出送往计数器的清零端RD使秒计数器清零，另一路经反相后作为进位脉冲送入秒十位计数器的脉冲输入端。

秒十位计数器

在这里74LS161被接成六进制计数器，接法与秒个位计数器相同，秒个位计数器送来的进位脉冲送入秒使位计数器的脉冲输入端，使其按二进制自然序依次递增1，QA、QB、QC、QD端输出为0000、0001、0010、0011、0100、0101，当输出为0110也就是6时，QB、QC输出为1，QA、QD输出为0，QB、QC经过一个与非门后一路先送往秒十位计数器的清零端，然后取反接或非门的另一个输入端后送入秒个位计数器的清零端，将整个秒计数器清零，另一路经反相后作为进位脉冲送入分个位计数器的脉冲输入端。

分计数器的连接方法与秒计数器相同，分计数器向时计数器送进位脉冲。秒、分的六十进制计数器的构成如图4所示：

[![image]({{ IMAGE_PATH }}2010/08/image5.png)]({{ IMAGE_PATH }}2010/08/image5.png)

图4  74LS161构成秒、分的六十进制计数器框图

2．74LS161构成二十四进制计数器

二十四进制计数器，也是用两个74LS161集成块来实现的，方法与二十四进制计数器大同小异，但其要求个位是十进制，状态变化在0000～1001间循环，十位是二进制，状态变化在0000～0010间循环，显示为0~23时。

原理：

由分计数器送来的进位脉冲送入时个位计数器，电路在分进位脉冲的作用下按二进制自然序依次递增1，当计数到24，这时小时个位输出0100（也就是4），小时十位输出0010（也就是2），小时十位计数器只有QC端有输出，小时个位计数器只有QB端有输出，将QC、QB端接一个二输入与非门，与非门输出一路先送入十位计数器的清零端然后取反送入或非门的另一个输入端，输出接小时个位计数器的清零端，其每10小时清零并向小时十位计数器送进位脉冲，当十位输出为二，小时个位输出为四时，将整个电路清零，另一路取反后作为星期进位脉冲送入星期显示电路的脉冲输入端，完成24小时的显示及向星期电路送星期进位脉冲的功能。二十四进制计数器的构成如图5所示：

图5  74LS161构成小时的二十四进制计数器框图

[![image]({{ IMAGE_PATH }}2010/08/image6.png)]({{ IMAGE_PATH }}2010/08/image6.png)

### 四 、星期计数器

每当累计24小时，小时十位会发出一个“星期脉冲”进位信号，该信号将被送到“星期计数器”，“星期计数器” 采用8进制计时器，可实现对一周7天的累计（第七天时显示为“日”为1000），译码显示电路将计数器的输出状态送到七段显示译码器译码，通过七位LED七段显示器显示出来。
星期计数器是用四个D触发器组成，它利用了D 触发器的计数功能，来完成计数的，它的逻辑功能

图如图6所示。

[![image]({{ IMAGE_PATH }}2010/08/image7.png)]({{ IMAGE_PATH }}2010/08/image7.png)

图6  星期计数器电路图

设计中将D触发器的 端和ID端相连显然，成了计数型触发器。由4个D触发器构成的四位移位寄存器，各触发器的RD端联在一起作为复位端。R和S则为触发器的异步复位和置位端，高电平触发，通常处于低电平状态。Q1~Q4为输出端，提供译码显示的。如图6 将后三个D触发器送到与非门，是为了实现星期计数，显示星期一至星期日，当计到七时也就是，Q3Q2Q1Q0=0111时，经与非门归零，此时就不显示星期七，系统继续进行计数，直到显示星期日时便停止计数，这样就完成了一次完整的计数。等待下一次的计数。

[![image]({{ IMAGE_PATH }}2010/08/image8.png)]({{ IMAGE_PATH }}2010/08/image8.png)

### 五 、校时电路

当时钟指示不准时，就需要校准时间。校准的方法很多，常用的有“快速校时法”。由与非门构成的双稳态触发器，可以将1Hz的“计数器的进位信号”送至“计数器的CP端”。其工作过程为：当接通校时开关时，与非门输出一个低电平和一个高电平。“计数器进位信号”通过“校时CP端”送至“计数器的CP端”，使“计数器”在“秒”信号的控制下“快速”计数，当校时电路打到A时，秒计数器经过与非门，发出一个分计数脉冲，进行一次计数。当校时电路打到B的分计时器CP是，开始进行校时，以达到准确的时间。当校时电路打到C时，开始进行准确的校时，将校时开关打到D，时计数器可以接收到，由分计数发出的脉冲信号。当校时开关打到E时，星期计数器能接收到，由时计数器发出的星期脉冲信号，此时对星期进行计数。若将校时开关打到F 时，也随即进行星期的校时，从而进行一次完整的校时，以达到了校时的目的。其构成电路如下图7所示。

[![image]({{ IMAGE_PATH }}2010/08/image9.png)]({{ IMAGE_PATH }}2010/08/image9.png)

图7 单次脉冲产生校时电路图

### 六 、报时电路

数字钟整点报时是最基本的功能之一。现在设计的电路要求在离整点差6秒时，每1秒钟鸣叫一次，共响6次，前五次为低音512Hz，最后一声为高音1024Hz。当计时到59分时，与非门（59分）接通，同时校分与非门接通，经RS触发器，保持此状态，因此扬声器不发生。当计时到59分54秒时，与非门（54秒）经RS触发器使其置零，在经与门与512HZ和成，一起送到扬声器，使扬声器发声，鸣叫5声后，当计数到59分59秒时，与非门（59秒）接通，经RS触发器在经非门与1024HZ频率，一同驱动扬声器，使其达到高音，此时报时完毕。整点报时电路主要由控制门电路和音响电路两部分组成。控制门电路部分由与非门组成，分别表示“分十位”“分个位”“秒十位”和“秒个位”的状态，与计数器的四个触发器A、B、C、D相连。音响电路采用射极输出器，推动8Ω的喇叭，三极管基极串接lkΩ限流电阻，是为了防止电流过大损坏喇叭，集电极串接51Ω限流电阻，三极管选用高频小功率管即可。其构成如图8所示：

[![image]({{ IMAGE_PATH }}2010/08/image10.png)]({{ IMAGE_PATH }}2010/08/image10.png)

图8 报时电路图

### 七、译码驱动及显示电路

电路由译码器集成电路CD4511、共阴极LED数码管组成。计数器74LS161输出的为四位二进制数，经译码电路译码输出端控制LED管显示十进制数0~9。

译码显示电路选用BCD-7段锁存译码／驱动器CC4511。七段显示数码管的外部引线排列如图9所示：

[![image]({{ IMAGE_PATH }}2010/08/image11.png)]({{ IMAGE_PATH }}2010/08/image11.png)

图9 七段显示数码管的外部引线排列图

CD4511 是一个用于驱动共阴 LED 显示器的 BCD 码—七段码译码器，其引脚如图10所示：

[![image]({{ IMAGE_PATH }}2010/08/image12.png)]({{ IMAGE_PATH }}2010/08/image12.png)

图10 CD4511引脚图

其功能介绍如下：

* BI：当BI=0 时，不管其它输入端状态如何，七段数码管均处于熄灭状态，不显示数字。
* LT：当BI=1，LT=0 时，不管输入 DCBA 状态如何，七段均发亮，显示“8”。它主要用来检测数码管是否损坏。
* LE：使能控制端，当LE=0时，允许译码输出。
* DCBA：为8421BCD码输入端。
* abcdefg：为译码输出，输出为高电平。

CD4511的EI、LI端接高电平，LE端接低电平，输入端D、C、B、A接74LS161的输出端QA、QB、QC、QD。，其输出端a~f接数码管。当数字钟的计数器在CP脉冲韵作用下，按60秒为1分、60分为1小时，‘24小时为1天的计数规律计数时，就应将其状态显示成清晰的数字符号。这就需要将计数器的状态进行译码并将其显示出来。我们选用的计数器全部是二-十进制集成片，“秒”、“分”、“时”的个位和十位的状态分别由集成片中的四个触发器的输出状态来反映的。每组(四个)．输出的计数状态都按 BCD代码以高低电平来表现。因此，需经译码电路将计数器输出的BCD代码变成能驱动七段数码显示器的工作信号。原理如图11所示：

[![image]({{ IMAGE_PATH }}2010/08/image13.png)]({{ IMAGE_PATH }}2010/08/image13.png)

图11译码显示电路

八、元件明细表

序号 名称 规格 数量

* 1 译码器 CD4511 6个
* 2 七段显示器 BS201 7个
* 3 触发器 边沿D触发器 4个
* 4 石英晶体 32768 1个
* 5 集成块 74LS161 6个
* 6 集成块 CD4511 7个
* 7 电容 22PF 1个
* 8 可变电容 3-22PF 1个
* 9 触发器 RS触发器 2个
* 10 电阻 1KΩ 1个
* 11 电阻 10 KΩ 2个
* 12 电阻 22MΩ 1个
* 13 或门 74LS32 1个
* 14 与门 74LS08 6个
* 15 非门 74LS04 8个
* 16 与非门 74LS00 8个
* 17 与非门 74LS10 3个
* 18 与非门 74LS20 1个
* 19 扬声器 8W、2.5Ω 1个
* 20 三极管 8050 1个
* 21 开关 AZD1169 3个
